<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Indicações</title>
<link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@300;400;700&display=swap" rel="stylesheet">
<link rel="icon" href="https://cidadealta.gg/favicon.svg" type="image/svg+xml">

<link rel="stylesheet" href="../css/global.css">
<style>
body{ background:#0b0b0b; color:#fff; font-family:'Comfortaa',sans-serif; margin:0; }
header{ background:#121212; padding:16px 30px; display:flex; justify-content:space-between; align-items:center; border-bottom:1px solid #222; }
header h1{ font-size:1.1rem; }
header button{ background:#ffbb00; border:none; color:#000; padding:6px 12px; border-radius:8px; cursor:pointer; font-weight:700; }
.container{ max-width:1200px; margin:40px auto; padding:0 20px; }
table{ width:100%; border-collapse:collapse; background:#151515; border-radius:14px; overflow:hidden; }
th, td{ padding:14px; text-align:left; font-size:.85rem; border-bottom:1px solid #222; }
th{ background:#1c1c1c; font-weight:700; }
.btn{ padding:6px 10px; border:none; border-radius:6px; cursor:pointer; font-weight:700; }
.btn-view{ background:#ffbb00; color:#000; }
</style>
</head>
<body>

<header>
  <h1>Indicações</h1>
  <button onclick="go('../admin/painel.html')">← Voltar</button>
</header>

<div class="container">
<table id="tabela">
  <thead>
    <tr>
      <th>ID</th>
      <th>Indicado</th>
      <th>Motivo</th>
      <th>Data</th>
      <th>Ações</th>
    </tr>
  </thead>
  <tbody></tbody>
</table>
</div>

<script>
// Dados
let indicacoes = JSON.parse(localStorage.getItem('indicacoes')) || [];
const tbody = document.querySelector('tbody');

function renderTable(){
  tbody.innerHTML = indicacoes.map(i=>`
    <tr>
      <td>${i.id}</td>
      <td>${i.indicado}</td>
      <td>${i.motivo.substring(0,40)}${i.motivo.length>40?'...':''}</td>
      <td>${i.data}</td>
      <td><button class="btn btn-view" onclick="viewIndicacao(${i.id})">Ver</button></td>
    </tr>
  `).join('');
}

function viewIndicacao(id){
  const i = indicacoes.find(ind=>ind.id===id);
  alert(`Indicado: ${i.indicado}\nData: ${i.data}\nMotivo:\n${i.motivo}`);
}

function go(p){ location.href=p; }

renderTable();
</script>
</body>
</html>
