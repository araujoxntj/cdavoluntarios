<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Adicionar VIP ‚Ä¢ Cidade Alta</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@300;400;700&display=swap" rel="stylesheet">
<link rel="icon" href="https://cidadealta.gg/favicon.svg" type="image/svg+xml">
<style>
body { margin:0; font-family:'Comfortaa',sans-serif; background:#0b0b0b; color:#fff; }
header { background:#121212; padding:18px 30px; display:flex; justify-content:space-between; align-items:center; border-bottom:1px solid #222; }
header h1 { font-size:1.1rem; }
header a { color:#ffbb00; text-decoration:none; font-weight:700; font-size:.9rem; }
.container { max-width:1000px; margin:60px auto; padding:0 20px; }
h2 { margin-bottom:30px; font-size:1.2rem; }
.grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:20px; }
.card { background:#151515; padding:22px; border-radius:16px; cursor:pointer; transition:.3s; border:1px solid #222; }
.card:hover { transform:translateY(-5px); box-shadow:0 0 25px rgba(255,187,0,.15); }
.card h3 { margin-bottom:8px; font-size:1rem; }
.card p { font-size:.85rem; opacity:.75; }

/* MODAL VIP */
.modal {
  display:none;
  position:fixed;
  top:0; left:0; width:100%; height:100%;
  background:rgba(0,0,0,.7);
  justify-content:center;
  align-items:center;
  z-index:1000;
}
.modal-content {
  background:#151515;
  padding:24px;
  border-radius:16px;
  width:320px;
}
.modal-content h3 { margin-bottom:14px; }
.modal-content label { display:block; margin:8px 0 4px; font-size:.85rem; }
.modal-content input, .modal-content select {
  width:100%;
  padding:6px 10px;
  border-radius:8px;
  border:1px solid #333;
  background:#111;
  color:#fff;
  margin-bottom:12px;
}
.modal-content button {
  padding:8px 12px;
  border:none;
  border-radius:8px;
  background:#ffbb00;
  color:#000;
  font-weight:700;
  cursor:pointer;
  width:100%;
}
</style>
</head>
<body>

<header>
  <h1>Gerenciamento de VIPs</h1>
  <a href="painel.html">‚Üê Voltar ao Painel</a>
</header>

<div class="container">
  <h2>VIP</h2>
  <div class="grid">
    <div class="card" onclick="abrirModalVIP()">
      <h3>‚ûï Adicionar VIP</h3>
      <p>Adicionar VIP direto para um usu√°rio</p>
    </div>
    <div class="card" onclick="location.href='historico.html'">
      <h3>üìú Hist√≥rico de VIPs</h3>
      <p>Visualizar VIPs ativos e expirados</p>
    </div>
  </div>
</div>

<!-- MODAL VIP -->
<div id="modalVIP" class="modal">
  <div class="modal-content">
    <h3>Adicionar VIP</h3>
    <label for="usuarioVIP">Usu√°rio</label>
    <select id="usuarioVIP"></select>

    <label for="tipoVIP">Tipo de VIP</label>
    <select id="tipoVIP">
      <option value="Prata">Prata</option>
      <option value="Ouro">Ouro</option>
      <option value="Diamante">Diamante</option>
    </select>

    <label for="statusVIP">Status</label>
    <select id="statusVIP">
      <option value="Pendente">Pendente</option>
      <option value="Aprovado">Aprovado</option>
      <option value="Rejeitado">Rejeitado</option>
    </select>

    <label for="duracaoVIP">Dura√ß√£o (dias)</label>
    <input type="number" id="duracaoVIP" placeholder="Ex: 30" min="1">

    <button onclick="adicionarVIP()">Adicionar VIP</button>
  </div>
</div>

<script>
// Modal VIP
const modalVIP = document.getElementById('modalVIP');
function abrirModalVIP() {
  modalVIP.style.display='flex';
  carregarUsuarios();
}
window.onclick = e => {
  if(e.target==modalVIP) modalVIP.style.display='none';
}

// Carregar usu√°rios no select
function carregarUsuarios(){
  const usuarios = JSON.parse(localStorage.getItem('usuarios')) || [];
  const select = document.getElementById('usuarioVIP');
  select.innerHTML = usuarios.map(u=>`<option value="${u.email}">${u.nome} (${u.role})</option>`).join('');
}

// Adicionar VIP
function adicionarVIP(){
  const email = document.getElementById('usuarioVIP').value;
  const tipo = document.getElementById('tipoVIP').value;
  const status = document.getElementById('statusVIP').value;
  const duracao = parseInt(document.getElementById('duracaoVIP').value);

  if(!email || !duracao || duracao<=0){ alert('Preencha todos os campos corretamente.'); return; }

  const vipList = JSON.parse(localStorage.getItem('vip')) || [];
  const inicio = Date.now();
  const fim = inicio + duracao*24*60*60*1000;

  vipList.push({ email, tipo, status, inicio, fim });
  localStorage.setItem('vip', JSON.stringify(vipList));

  alert(`VIP ${tipo} adicionado para ${email} com status ${status}`);
  modalVIP.style.display='none';
}
</script>

</body>
</html>
